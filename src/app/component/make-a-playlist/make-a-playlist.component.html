<app-navbar></app-navbar>

<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
</head>

<body>
    <div class="row">
        <div class="col-sm-6 " >
            <div class="animate__animated animate__backInDown">
                <div class="card text-center mb-3" style="width: 18rem;"  *ngIf="showPlaylistCard">
                    <div class="card-body">
                        <h5 class="card-title"><strong>Playlist personalizada</strong></h5>
                        <p class="card-text">Responde algunas preguntas para obtener una playlist según tus gustos.</p>
                        <a class="btn btn-dark" (click)="toggleVisibility('form')">Comenzar</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-6 ">
            <div class="animate__animated animate__backInUp">
                <div class="card text-center mb-3" style="width: 18rem;" *ngIf="showMasEscuchadosCard">
                    <div class="card-body">
                        <h5 class="card-title"><strong>Playlist segun tus gustos</strong></h5>
                        <p class="card-text">Analizamos que te gusta para obtener una nueva playlist que escuchar.</p>
                        <a class="btn btn-dark" (click)="toggleVisibility('playlist')">Comenzar</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container" *ngIf="showRecommendedPlaylist">
        <p>hola</p>
    </div>

    <div class="container" *ngIf="showFormSection">
        <form [formGroup]="quizForm">
            <div class="animate__animated animate__bounce" *ngIf="currentQuestion === 1">
                <label for="question1"><strong>¿Qué es lo primero que haces cuando te levantas?</strong></label>
                <select class="form-select" formControlName="question1">
                    <option value="1">Me miro al espejo.</option>
                    <option value="2">Voy al baño y me lavo la cara.</option>
                    <option value="3">Me estiro un par de minutos.</option>
                </select>
            </div>

            <div class="animate__animated animate__fadeIn" *ngIf="currentQuestion === 2">
                <label for="question2"><strong>Que eligirias para ponerte?</strong></label>
                <select class="form-select" formControlName="question2">
                    <option value="1">Unas Converse.</option>
                    <option value="2">Unas panchas, son muy cómodas.</option>
                    <option value="3">Unos zapatos capaz.</option>
                </select>
            </div>

            <div class="animate__animated animate__fadeIn" *ngIf="currentQuestion === 3">
                <label for="question3"><strong>Para una noche con tus amig@s, ¿Qué planes preparas?</strong></label>
                <select class="form-select" formControlName="question3">
                    <option value="2">Unas pelis de terror y algo dulce.</option>
                    <option value="3">Algun juego de mesa.</option>
                    <option value="1">Hablar tranquil@s y música.</option>
                </select>
            </div>

            <div class="animate__animated animate__fadeIn" *ngIf="currentQuestion === 4">
                <label for="question4"><strong>A tu amig@ se entera que le fueron infiel. ¿Qué le
                        decis?</strong></label>
                <select class="form-select" formControlName="question4">
                    <option value="1">Que le pregunte directamente.</option>
                    <option value="2">Que l@ deje!! HNo vale la pena que se esté preocupando por alguien que no la
                        merece.</option>
                    <option value="3">Que investigue primero, no hay que arriesgarse.</option>
                </select>
            </div>

            <div class="animate__animated animate__fadeIn" *ngIf="currentQuestion === 5">
                <label for="question5"><strong>Que es lo primero que ves de alguien?</strong></label>
                <select class="form-select" formControlName="question5">
                    <option value="2">En el estilo que tiene. Me gustan medi@s rar@s.</option>
                    <option value="1">En el físico. Si no me entra por los ojos no hay nada que hacer...</option>
                    <option value="3">En su personalidad!!</option>
                </select>
            </div>

            <div class="animate__animated animate__fadeIn" *ngIf="currentQuestion === 6">
                <label for="question6"><strong>¿Dónde te irías de vacaciones?</strong></label>
                <select class="form-select" formControlName="question6">
                    <option value="1">A Nueva York. Me cansaria de gastar plata.</option>
                    <option value="3">A Los Ángeles. A ver si me encuentro algun famoso.</option>
                    <option value="2">A Londres. Es una ciudad que tiene de todo (ponele).</option>
                </select>
            </div>

            <div class="animate__animated animate__fadeIn" *ngIf="currentQuestion === 7">
                <label for="question7"><strong>¿Cuál es tu red social
                        favorita?</strong></label>
                <select class="form-select" formControlName="question7">
                    <option value="1">Otra / No tengo.</option>
                    <option value="2">Instagram.</option>
                    <option value="3">Twitter.</option>
                </select>
            </div>

            <div class="animate__animated animate__fadeIn" *ngIf="currentQuestion === 8">
                <label for="question8"><strong>Con quien te llevas mejor?</strong></label>
                <select class="form-select" formControlName="question8">
                    <option value="3">Con mi papa, Me banca en todas.</option>
                    <option value="2">Me vuelven locos todos en mi familia pero los quiero.</option>
                    <option value="1">Con mi mama, Le cuento todo.</option>
                </select>
            </div>

            <div class="animate__animated animate__fadeIn" *ngIf="currentQuestion === 9">
                <label for="question9"><strong>¿A quién borrarías del panorama musical?</strong></label>
                <select class="form-select" formControlName="question9">
                    <option value="3">A The weekend, me cae mal.</option>
                    <option value="1">A Justin Bieber, No me gusta mucho su música.</option>
                    <option value="2">A Eminem, No entiendo su estilo.</option>
                </select>
            </div>

            <div class="animate__animated animate__shakeX" *ngIf="quizForm.get('question' + currentQuestion)?.touched">
                <div
                    *ngIf="quizForm.get('question' + currentQuestion)?.touched && quizForm.get('question' + currentQuestion)?.hasError('required')">
                    <p style="color: red;"><strong>¡Este campo es obligatorio!</strong></p>
                </div>
            </div>

        </form>

        <button *ngIf="currentQuestion > 1" (click)="previousQuestion()" class="btn btn-dark">Anterior</button>

        <button
            *ngIf="currentQuestion < totalQuestions && !quizForm.get('question' + currentQuestion)?.pristine && quizForm.get('question' + currentQuestion)?.valid"
            (click)="nextQuestion()" class="btn btn-dark">Siguiente</button>

        <button *ngIf="currentQuestion === totalQuestions && quizForm.valid" (click)="quizPlaylist()"
            class="btn btn-dark">Enviar</button>

        <div *ngIf="currentQuestion === totalQuestions">
            <p class="animate__animated animate__shakeX" style="color: red;" *ngIf="quizForm.invalid"><strong>Por
                    favor,
                    responde todas las preguntas antes de enviar el cuestionario.</strong></p>

        </div>
    </div>
</body>